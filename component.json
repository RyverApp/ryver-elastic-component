{
  "title": "Ryver",
  "description": "Component to create Ryver tasks",
  "docsUrl": "https://github.com/elasticio/petstore-component-nodejs",
  "credentials": {
    "fields": {
      "org": {
        "label": "Organization name",
        "required": true,
        "viewClass": "TextFieldView",
        "note": "Enter here your Ryver organization name."
      },
      "user": {
        "label": "Username",
        "required": true,
        "viewClass": "TextFieldView",
        "note": "Please enter your Ryver username."
      },
      "pass": {
        "label": "Password",
        "required": true,
        "viewClass": "TextFieldView",
        "note": "Please enter your Ryver password."
      }
    }
  },
  "triggers": {
    "getListOfChats": {
      "main": "./lib/triggers/getRyverChats.js",
      "type": "polling",
      "title": "Get Chats List From Ryver",
      "fields": {
        "chat": {
          "label": "Chat Room",
          "required": true,
          "viewClass": "SelectView",
          "model": {
            "forums": "Open Forums",
            "workrooms": "Private Teams"
          },
          "prompt": "Select Ryver Chat Room"
        }
      },
      "metadata": {
        "out": "./lib/schemas/getChatsByChatroom.out.json"
      }
    },
    "listChatHistoryTrig": {
      "main": "./lib/actions/listChatHistory.js",
      "type": "polling",
      "title": "Get chat history",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "postList",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      },
      "metadata": {
        "out": "./lib/schemas/listChatHistory.out.json"
      }
    }
  },
  "actions": {
    "sendMessage": {
      "main": "./lib/actions/sendMessage.js",
      "title": "Send message to Ryver chat",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "Send to forum, team or user?",
          "required": false,
          "model" : "listType",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      },
      "metadata": {
        "in":"./lib/schemas/messageData.in.json",
        "out": "./lib/schemas/messageData.out.json"
      }
    },
    "createTopic": {
      "main": "./lib/actions/postTopic.js",
      "title": "Create Topic",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "Send to forum, team or user?",
          "required": false,
          "model" : "postList",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      },
      "metadata": {
        "in":"./lib/schemas/topicData.in.json",
        "out": "./lib/schemas/topicData.out.json"
      }
    },
    "createTask": {
      "main": "./lib/actions/createTask.js",
      "title": "Create Task",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "Send to forum or team?",
          "required": false,
          "model" : "postList",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "cat" : {
          "viewClass": "SelectView",
          "label": "Select category",
          "required": false,
          "model" : "listCategory",
          "prompt" :"Please select a category"
        },
        "dynamicMetadata":true
      },
      "metadata": {
        "in":"./lib/schemas/taskData.in.json",
        "out": "./lib/schemas/taskData.out.json"
      }
    },
    "listTopic": {
      "main": "./lib/actions/getTopicList.js",
      "title": "List topics",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "postList",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      }
    },
    "listTopicMessage": {
      "main": "./lib/actions/getMessagesTopicList.js",
      "title": "List messages from topics",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "Send to forum or team?",
          "required": false,
          "model" : "postList",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "topic" : {
          "viewClass": "SelectView",
          "label": "Select category",
          "required": false,
          "model" : "listTopics",
          "prompt" :"Please select a category"
        },
        "dynamicMetadata":true
      }
    },
    "listCategoryTasks": {
      "main": "./lib/actions/listTaskCategory.js",
      "title": "List tasks from category",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "postList",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "cat" : {
          "viewClass": "SelectView",
          "label": "Select category",
          "required": false,
          "model" : "listCategory",
          "prompt" :"Please select a category"
        },
        "dynamicMetadata":true
      }
    },
    "listMembersRoles": {
      "main": "./lib/actions/listMembersRoles.js",
      "title": "List members and roles",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "postList",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      }
    },
    "listChatHistory": {
      "main": "./lib/actions/listChatHistory.js",
      "title": "Get chat history",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "listType",
          "prompt" :"Please select an option"
        },
        "chatId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "listChat",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      }
    }
  }
}
