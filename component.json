{
  "title": "Ryver",
  "description": "Component to create Ryver tasks",
  "docsUrl": "https://github.com/RyverApp/ryver-elastic-component",
  "credentials": {
    "fields": {
      "org": {
        "label": "Organization name",
        "required": true,
        "viewClass": "TextFieldView",
        "note": "Enter here your Ryver organization name."
      },
      "user": {
        "label": "Username",
        "required": false,
        "viewClass": "TextFieldView",
        "note": "Please enter your Ryver username."
      },
      "pass": {
        "label": "Password",
        "required": false,
        "viewClass": "PasswordFieldView",
        "note": "Please enter your Ryver password."
      },
      "token": {
        "label": "Integration Token",
        "required": false,
        "viewClass": "PasswordFieldView",
        "note": "Please enter your Ryver Integration token."
      }
    }
  },
  "triggers": {
    "getTeamsOrForums": {
      "main": "./lib/triggers/getTeamsOrForums.js",
      "type": "polling",
      "title": "Get Teams or Forums",
      "fields": {
        "entityType": {
          "label": "Type",
          "required": true,
          "viewClass": "SelectView",
          "model": {
            "forums": "Open Forums",
            "workrooms": "Private Teams"
          },
          "prompt": "Select type"
        }
      },
      "metadata": {
        "out": "./lib/schemas/getTeamsOrForums.out.json"
      }
    },
    "getChatHistory": {
      "main": "./lib/triggers/getChatHistory.js",
      "type": "polling",
      "title": "Get Chat History",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "getTeamOrForumModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      },
      "metadata": {
        "out": "./lib/schemas/getChatHistory.out.json"
      }
    }
  },
  "actions": {
    "sendMessage": {
      "main": "./lib/actions/sendMessage.js",
      "title": "Send message to Ryver chat",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "Send to forum, team or user?",
          "required": true,
          "model" : "getEntityTypeModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": true,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      },
      "metadata": {
        "in":"./lib/schemas/messageData.in.json",
        "out": "./lib/schemas/messageData.out.json"
      }
    },
    "createTopic": {
      "main": "./lib/actions/createTopic.js",
      "title": "Create Topic",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "Send to forum or team?",
          "required": true,
          "model" : "getTeamOrForumModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": true,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      },
      "metadata": {
        "in":"./lib/schemas/topicData.in.json",
        "out": "./lib/schemas/topicData.out.json"
      }
    },
    "createTask": {
      "main": "./lib/actions/createTask.js",
      "title": "Create Task",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "Send to forum or team?",
          "required": true,
          "model" : "getTeamOrForumModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": true,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "cat" : {
          "viewClass": "SelectView",
          "label": "Select category",
          "required": false,
          "model" : "getCategoryModel",
          "prompt" :"Please select a category"
        },
        "assign" : {
          "viewClass": "SelectView",
          "label": "Assign to user (optional)",
          "required": false,
          "model" : "getUserModel",
          "prompt" :"Please select an option"
        },
        "completed": {
          "label": "Mark task as complete",
          "viewClass": "CheckBoxView"
       },
        "dynamicMetadata":true
      },
      "metadata": {
        "in":"./lib/schemas/taskData.in.json",
        "out": "./lib/schemas/taskData.out.json"
      }
    },
    "moveTask": {
      "main": "./lib/actions/moveTask.js",
      "title": "Move a task to new category",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": true,
          "model" : "getTeamOrForumModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": true,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "fromCategoryId" : {
          "viewClass": "SelectView",
          "label": "Select source category",
          "required": true,
          "model" : "getCategoryModel",
          "prompt" :"Please select a source category"
        },
        "taskId": {
          "viewClass": "SelectView",
          "label": "Select task to move",
          "required": true,
          "model" : "getTaskModel",
          "prompt" :"Please select a task to move"
        },
        "toCategoryId" : {
          "viewClass": "SelectView",
          "label": "Select destination category",
          "required": true,
          "model" : "getCategoryModel",
          "prompt" :"Please select a destination category"
        },
        "toPosition": {
          "viewClass": "TextFieldView",
          "label": "Enter the task's position (optional)",
          "required": false,
          "prompt" :"Please enter the task's position in its new category"
        },
        "dynamicMetadata":true
      }
    },
    "getTopics": {
      "main": "./lib/actions/getTopics.js",
      "title": "List topics",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "getTeamOrForumModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      }
    },
    "getTopicComments": {
      "main": "./lib/actions/getTopicComments.js",
      "title": "List messages from topics",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "Send to forum or team?",
          "required": false,
          "model" : "getTeamOrForumModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "topic" : {
          "viewClass": "SelectView",
          "label": "Select category",
          "required": false,
          "model" : "getTopicModel",
          "prompt" :"Please select a category"
        },
        "dynamicMetadata":true
      }
    },
    "getTasksFromCategory": {
      "main": "./lib/actions/getTasksFromCategory.js",
      "title": "List tasks from category",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "getTeamOrForumModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "cat" : {
          "viewClass": "SelectView",
          "label": "Select category",
          "required": false,
          "model" : "getCategoryModel",
          "prompt" :"Please select a category"
        },
        "dynamicMetadata":true
      }
    },
    "getMemberRoles": {
      "main": "./lib/actions/getMemberRoles.js",
      "title": "List members and roles",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum or team?",
          "required": false,
          "model" : "getTeamOrForumModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      }
    },
    "getChatHistoryAction": {
      "main": "./lib/triggers/getChatHistory.js",
      "title": "Get chat history",
      "fields" : {
        "type" : {
          "viewClass": "SelectView",
          "label": "List from forum, team or user?",
          "required": false,
          "model" : "getEntityTypeModel",
          "prompt" :"Please select an option"
        },
        "entityId" : {
          "viewClass": "SelectView",
          "label": "Choose location:",
          "required": false,
          "model" : "getEntityModel",
          "prompt" :"Please select a location"
        },
        "dynamicMetadata":true
      }
    }
  }
}
